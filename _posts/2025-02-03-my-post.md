---
layout: post
title: "Data Visualization Recreations"
date: 2025-02-03
categories: [data-analysis, python, education]
tags: [data science, python, altair, vega]
---


# Inspir-Altair: Recreating the Los Angeles Fire Maps

For this assignment, I chose to recreate a fire map visualization from the New York Times article: Maps: Tracking Southern California Wildfires. This visualization stood out to me because it clearly labeled specific locations in California that were affected by the ongoing wildfires. Additionally the visualizations created by the New York Times was interactive and it cycled through dates during which data was last collected, giving you a live update as to where the fire has spread. I thought that was really cool and for that reason I wanted to try and recreate this visualization. Here are some of the visualizations from the article:

![firemaps](/assets/img/firemap1.png)
![firemaps2](/assets/img/firemap2.png)

## Building the Base Map

To begin, I needed a **base map of California**. Altair provides access to **vega_datasets**, which includes **US state boundaries** in **TopoJSON format**. The challenge was **filtering only California** (State ID: 6) while keeping proper map scaling.

```Python

import altair as alt
import pandas as pd
from vega_datasets import data

# Load the US states TopoJSON data
us_map = alt.topo_feature(data.us_10m.url, feature='states')

# Filter for California (state ID 6)
california_map = alt.Chart(us_map).mark_geoshape(
    fill="lightgray", stroke="white"
).transform_filter(
    alt.datum.id == 6  
).properties(
    width=800, height=600
).project(
    type='albersUsa',
    scale=5000,  # Zoom into California
    translate=[2000, 250]  
)

```

### Why Use albersUsa Projection?

This projection ensures that the map properly aligns with latitude/longitude coordinates within the US. Scaling and translation helped **focus specifically on California**.

## Overlaying Fire Data

Once I had a base map, I needed to overlay fire locations with meaningful encodings:

Fire size → Bubble size,
Fire intensity → Red color gradient,
Fire name & size → Tooltip

### Fire Dataset

There wasnt any publicly available data that I could find that would suit my needs for this visualization so I resorted to making my own. I created a sample dataset with major wildfires near Los Angeles, including approximate locations and areas affected.

```Python
fire_data = pd.DataFrame({
    "name": ["Palisades", "Eaton", "Hughes", "Lidia", "Kenneth", "Hurst", "Sunset"],
    "longitude": [-118.545, -118.01, -118.6, -118.1, -118.7, -118.3, -118.4],
    "latitude": [34.05, 34.2, 34.5, 34.4, 34.3, 34.2, 34.0],
    "size": [5000, 3000, 1500, 800, 1200, 900, 1000]
})

```

Now, I needed to plot the fire zones on the California map using circles to represent fire areas.

```Python

# Fire Data Visualization
fire_map = alt.Chart(fire_data).mark_circle(opacity=0.6).encode(
    longitude='longitude:Q',
    latitude='latitude:Q',
    size=alt.Size('size:Q', scale=alt.Scale(range=[50, 500]), title="Fire Area"),
    color=alt.Color('size:Q', scale=alt.Scale(scheme='reds'), title="Fire Intensity"),
    tooltip=['name:N', 'size:Q']
).properties(
    title="Los Angeles Fire Zones"
).project(
    type='albersUsa',
    scale=5000,  
    translate=[2000, 250]  
)

```

This should give us a map for the fires locations. However it is not layered on top of the map of California which we did earlier on using the variable name **california_map**. In the next step I will go over how to merge these two mappings.

## Merging Everything Together

In order to combine both of the maps I created I did the following:

```Python

# Combine California Map & Fire Data
final_chart = alt.layer(california_map, fire_map).resolve_scale(
    color='independent'
)

final_chart

```

Now, the fire visualization is successfully overlaid on the California map! Here is what the final visualization looks like:





